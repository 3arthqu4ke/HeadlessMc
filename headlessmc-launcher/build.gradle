plugins {
    id 'application'
}

def MAIN_CLASS = 'me.earth.headlessmc.launcher.Main'
application {
    mainClass = MAIN_CLASS
}

version = '1.4.0'

run {
    standardInput = System.in
}

dependencies {
    jarLibs project(':headlessmc-api')
    jarLibs project(':headlessmc-commons')
    jarLibs project(':headlessmc-lwjgl')

    jarLibs group: 'org.ow2.asm', name: 'asm', version: '9.3'
    jarLibs group: 'org.ow2.asm', name: 'asm-tree', version: '9.3'
    jarLibs group: 'com.google.code.gson', name: 'gson', version: '2.8.9'
    jarLibs group: 'com.github.Litarvan', name: 'OpenAuth', version: '1.1.2'
}

processResources {
    into('headlessmc') {
        from project(':headlessmc-runtime')['jar']
        from project(':headlessmc-lwjgl')['jar']
    }
}

jar {
    //noinspection GroovyAssignabilityCheck
    manifest {
        attributes('Main-Class': MAIN_CLASS)
    }
}